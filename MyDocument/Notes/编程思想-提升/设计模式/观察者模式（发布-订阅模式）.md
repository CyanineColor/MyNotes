定义
观察者模式定义了一种一对多的依赖关系，让多个观察者对象
同时监听某一个主题对象。这个主题对象在状态发生变化时，
会通知所有观察者对象，使它们能够自动更新自己。

说明
```C#
using System;  
using System.Collections;  
using System.Collections.Generic;  
  
namespace 观察者模式  
{  
    internal class Program  
    {  
        public static void Main(string[] args)  
        {            ConcreSubject Sub = new ConcreSubject();  
            Sub.Attach(new ConcreObserver("ABC",Sub));  
            Sub.Attach(new ConcreObserver("BAC",Sub));  
            Sub.Attach(new ConcreObserver("CBA",Sub));  
            Sub.SubjectState = "我做了某个动作，状态更新了";  
                        Sub.Notify();  
            Console.WriteLine("这是观察者模式");  
            Console.ReadLine();  
        }    }    /// <summary>  
    /// 抽象通知者，或者用抽象接口实现  
    /// </summary>  
    abstract class subject  
    {  
        private IList<Observer> Observers =new List<Observer>();  
        public void Attach(Observer observer)  
        {            Observers.Add(observer);  
        }        public void Detach(Observer observer)  
        {            Observers.Remove(observer);  
        }//通知  
        public void Notify()  
        {            foreach (var item in Observers)  
            {                item.Update();  
            }        }    }  
    /// <summary>  
    /// 抽象观察者  
    /// </summary>  
    abstract class Observer  
    {  
        public abstract void Update();  
    }  
    class  ConcreSubject:subject  
    {  
        /// <summary>  
        /// 具体被观察者的状态  
        /// </summary>  
        public string SubjectState{get;set;}  
  
           }  
  
    class  ConcreObserver:Observer  
    {  
  
        public ConcreObserver(string name,ConcreSubject  Subject)  
        {             this.Name=name;  
            this.Subjecet=Subject;      
        }   
private string Name { get; set; }  
        private string State { get; set; }  
        private ConcreSubject Subjecet { get; set; }  
        public override void Update()  
        {            State=Subjecet.SubjectState;  
            Console.WriteLine($"我是{Name}，我观察到目标变化了{State}，执行了目标操作");  
        }    }    }
```
实际应用
常用框架中MVVM模式，也使用了观察模式，数据驱动视图变化。ViewModel 作为数据的提供者，而 View 作为数据的消费者。当 ViewModel 中的数据发生变化时，它会通知所有绑定的 View 进行更新（具体做法为实现 `INotifyPropertyChanged` 接口，并触发相应的事件）引用--十月寒流的个人笔记[--原生 WPF 框架中体现出的设计模式](https://blog.coldwind.top/posts/built-in-design-patterns-in-wpf/)
在prism框架中，发布 -订阅事件同样使用了观察者模式。
```C#
public class UpdateMessageEvent : PubSubEvent<string> { }

private readonly IEventAggregator _eventAggregator;

public MyViewModel(IEventAggregator eventAggregator)

{

    _eventAggregator = eventAggregator;

    // 订阅事件

_eventAggregator.GetEvent<UpdateMessageEvent>().Subscribe(MessageReceived);

}

private void MessageReceived(string message)

{

    // 处理收到的消息

}

public void SendMessage()

{

    // 发送事件

    _eventAggregator.GetEvent<UpdateMessageEvent>().Publish("Hello World");

}
```
